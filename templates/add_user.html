{% extends "base.html" %}
{% block content %}
    <h1>Add User</h1>
    <form method="POST">
        <label for="username">Username:</label>
        <input type="text" name="username" required>

        <label for="password">Password:</label>
        <input type="password" name="password" required>

        <label for="role">Role:</label>
        <select name="role">
            {% for role in roles %}
                <option value="{{ role }}">{{ role.capitalize() }}</option>
            {% endfor %}
        </select>

        <button type="submit">Add User</button>
    </form>

    <script>
    fetch('http://109.237.99.125:5000/roles')
        .then(response => response.json())
        .then(data => {
            const roleSelect = document.getElementById('roleSelect');
            data.roles.forEach(role => {
                const option = document.createElement('option');
                option.value = role;
                option.textContent = role.charAt(0).toUpperCase() + role.slice(1);
                roleSelect.appendChild(option);
            });
        })
        .catch(error => console.error('Error fetching roles:', error));
    </script>
{% endblock %}


